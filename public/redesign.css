/* ===========================================================
   AEROSONIC — Modern UI (scoped, non-invasivo)
   Attivo solo con: <body class="aero-newui">
   Obiettivi: tipografia chiara, contrasti AA, card-glass, gradienti soft,
   stati hover/tap, focus accessibili, spacing coerente.
   =========================================================== */

/* ---------- Tokens / Theme ---------- */
:root {
  --ui-font: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --ui-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  --ui-bg-0: #060b1a; /* page */
  --ui-bg-1: #0b1530; /* sections */
  --ui-surface: rgba(255, 255, 255, 0.05); /* cards */
  --ui-border: rgba(255, 255, 255, 0.08);
  --ui-divider: rgba(255, 255, 255, 0.06);

  --ui-text: #eaf2ff;
  --ui-muted: #a7b8d6;
  --ui-subtle: #7b8dac;

  --ui-primary: #26a0ff;
  --ui-primary-2: #7ee0ff;
  --ui-success: #22c55e;
  --ui-warning: #f59e0b;
  --ui-danger: #ef4444;

  --ui-shadow: 0 12px 40px rgba(6, 14, 40, 0.6);
  --ui-radius: 14px;
  --ui-radius-lg: 18px;
  --ui-radius-sm: 10px;

  --ui-spacing-1: 0.5rem;
  --ui-spacing-2: 0.75rem;
  --ui-spacing-3: 1rem;
  --ui-spacing-4: 1.25rem;
  --ui-spacing-5: 1.75rem;
  --ui-spacing-6: 2.25rem;

  --ui-blur: 10px;
}

/* Light-mode opzionale (se vuoi un toggle) */
@media (prefers-color-scheme: light) {
  body.aero-newui.light {
    --ui-bg-0: #f7f9ff;
    --ui-bg-1: #ffffff;
    --ui-surface: rgba(4, 10, 40, 0.035);
    --ui-border: rgba(4, 10, 40, 0.09);
    --ui-divider: rgba(4, 10, 40, 0.06);
    --ui-text: #0a1024;
    --ui-muted: #394563;
    --ui-subtle: #5a6b8f;
    --ui-shadow: 0 10px 30px rgba(4, 10, 40, 0.12);
  }
}

/* ---------- Page base ---------- */
body.aero-newui {
  background: radial-gradient(
      1200px 600px at 70% -10%,
      rgba(38, 160, 255, 0.22),
      transparent 55%
    ),
    linear-gradient(180deg, var(--ui-bg-0), var(--ui-bg-1));
  color: var(--ui-text);
  font-family: var(--ui-font);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  line-height: 1.55;
}

/* Tipografia */
body.aero-newui h1,
body.aero-newui h2,
body.aero-newui h3,
body.aero-newui h4 {
  letter-spacing: 0.2px;
  line-height: 1.2;
  margin: 0 0 var(--ui-spacing-3);
}
body.aero-newui h1 {
  font-size: clamp(2rem, 1.4rem + 2.4vw, 3rem);
  font-weight: 750;
}
body.aero-newui h2 {
  font-size: clamp(1.5rem, 1.2rem + 1.2vw, 2.2rem);
  font-weight: 700;
}
body.aero-newui h3 {
  font-size: 1.25rem;
  font-weight: 650;
}
body.aero-newui p {
  color: var(--ui-muted);
  margin: 0 0 var(--ui-spacing-3);
}
body.aero-newui .muted {
  color: var(--ui-muted);
}
body.aero-newui .subtle {
  color: var(--ui-subtle);
}

/* ---------- Header / Navbar (traslucido) ---------- */
body.aero-newui .site-header,
body.aero-newui header,
body.aero-newui nav.navbar {
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(6, 14, 40, 0.35);
  backdrop-filter: blur(var(--ui-blur));
  border-bottom: 1px solid var(--ui-divider);
}
body.aero-newui .navbar-inner {
  display: flex;
  align-items: center;
  gap: var(--ui-spacing-3);
  padding: var(--ui-spacing-3) var(--ui-spacing-4);
}

/* ---------- Layout helpers ---------- */
body.aero-newui .container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--ui-spacing-4);
}
body.aero-newui .grid {
  display: grid;
  gap: var(--ui-spacing-4);
}
body.aero-newui .grid-2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
body.aero-newui .grid-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
@media (max-width: 1024px) {
  body.aero-newui .grid-3 {
    grid-template-columns: 1fr 1fr;
  }
}
@media (max-width: 680px) {
  body.aero-newui .grid-2,
  body.aero-newui .grid-3 {
    grid-template-columns: 1fr;
  }
}

/* ---------- Section & Hero ---------- */
body.aero-newui .section {
  padding: var(--ui-spacing-6) 0;
  border-top: 1px solid var(--ui-divider);
}
body.aero-newui .hero {
  padding: calc(var(--ui-spacing-6) + 20px) 0 var(--ui-spacing-6);
  background: radial-gradient(
    900px 320px at 60% -15%,
    rgba(126, 224, 255, 0.18),
    transparent 60%
  );
  border-bottom: 1px solid var(--ui-divider);
}

/* ---------- Cards (glass) ---------- */
body.aero-newui .card,
body.aero-newui .panel,
body.aero-newui .box,
body.aero-newui .token-card,
body.aero-newui .market-card {
  background: var(--ui-surface);
  border: 1px solid var(--ui-border);
  border-radius: var(--ui-radius);
  box-shadow: var(--ui-shadow);
  padding: var(--ui-spacing-4);
}
body.aero-newui .card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--ui-spacing-3);
}
body.aero-newui .card-title {
  font-weight: 700;
}
body.aero-newui .card-subtle {
  color: var(--ui-subtle);
  font-size: 0.95rem;
}

/* ---------- Buttons ---------- */
body.aero-newui .btn,
body.aero-newui button,
body.aero-newui .button {
  --_padX: 1.1rem;
  --_padY: 0.65rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: var(--_padY) var(--_padX);
  border-radius: 999px;
  border: 0;
  background: linear-gradient(90deg, var(--ui-primary), var(--ui-primary-2));
  color: #041022;
  font-weight: 650;
  transition: transform 0.12s ease, box-shadow 0.12s ease, opacity 0.2s ease;
  text-decoration: none;
  cursor: pointer;
}
body.aero-newui .btn:hover,
body.aero-newui .button:hover,
body.aero-newui button:hover {
  transform: translateY(-1px);
  box-shadow: 0 14px 32px rgba(38, 160, 255, 0.3);
}
body.aero-newui .btn.ghost {
  background: transparent;
  color: var(--ui-text);
  border: 1px solid var(--ui-border);
}
body.aero-newui .btn.secondary {
  background: linear-gradient(90deg, #3b82f6, #60a5fa);
  color: #07102a;
}

/* ---------- Inputs / Forms ---------- */
body.aero-newui input,
body.aero-newui select,
body.aero-newui textarea {
  width: 100%;
  background: rgba(255, 255, 255, 0.04);
  color: var(--ui-text);
  border: 1px solid var(--ui-border);
  border-radius: var(--ui-radius-sm);
  padding: 0.7rem 0.9rem;
  outline: none;
  transition: border-color 0.12s ease, box-shadow 0.12s ease;
}
body.aero-newui input::placeholder,
body.aero-newui textarea::placeholder {
  color: var(--ui-subtle);
}
body.aero-newui input:focus,
body.aero-newui select:focus,
body.aero-newui textarea:focus {
  border-color: var(--ui-primary-2);
  box-shadow: 0 0 0 3px rgba(126, 224, 255, 0.28);
}

/* Input groups */
body.aero-newui .input-row {
  display: flex;
  gap: var(--ui-spacing-3);
}
@media (max-width: 680px) {
  body.aero-newui .input-row {
    flex-direction: column;
  }
}

/* ---------- Tables (quote/ordini/token list) ---------- */
body.aero-newui table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}
body.aero-newui thead th {
  text-align: left;
  font-weight: 650;
  color: var(--ui-subtle);
  border-bottom: 1px solid var(--ui-divider);
  padding: 0.75rem 0.75rem;
}
body.aero-newui tbody td {
  padding: 0.8rem 0.75rem;
  color: var(--ui-text);
  border-bottom: 1px solid var(--ui-divider);
}
body.aero-newui tbody tr:hover {
  background: rgba(255, 255, 255, 0.03);
}

/* Righe/pill per “pair” o token list */
body.aero-newui .token-row,
body.aero-newui .pair-row,
body.aero-newui .market-item {
  display: grid;
  gap: 0.75rem;
  align-items: center;
  grid-template-columns: 1fr auto;
  padding: 0.75rem 0.9rem;
  border: 1px solid var(--ui-border);
  border-radius: var(--ui-radius-sm);
  background: rgba(255, 255, 255, 0.035);
}

/* ---------- Badges / Pills ---------- */
body.aero-newui .badge {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.35rem 0.6rem;
  border-radius: 999px;
  font-size: 0.82rem;
  border: 1px solid var(--ui-border);
  background: rgba(255, 255, 255, 0.04);
}
body.aero-newui .badge.success {
  border-color: rgba(34, 197, 94, 0.35);
  color: var(--ui-success);
}
body.aero-newui .badge.warn {
  border-color: rgba(245, 158, 11, 0.35);
  color: var(--ui-warning);
}
body.aero-newui .badge.danger {
  border-color: rgba(239, 68, 68, 0.35);
  color: var(--ui-danger);
}

/* ---------- Modals ---------- */
body.aero-newui .modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.55);
  backdrop-filter: blur(3px);
}
body.aero-newui .modal {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  padding: var(--ui-spacing-4);
}
body.aero-newui .modal-content {
  width: min(640px, 100%);
  background: var(--ui-surface);
  border: 1px solid var(--ui-border);
  border-radius: var(--ui-radius-lg);
  box-shadow: var(--ui-shadow);
  padding: var(--ui-spacing-5);
}

/* ---------- Tabs ---------- */
body.aero-newui .tabs {
  display: flex;
  gap: 0.5rem;
  border-bottom: 1px solid var(--ui-divider);
}
body.aero-newui .tab {
  padding: 0.65rem 0.9rem;
  border-radius: 10px 10px 0 0;
  color: var(--ui-subtle);
}
body.aero-newui .tab.active {
  color: var(--ui-text);
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid var(--ui-border);
  border-bottom-color: transparent;
}

/* ---------- Alerts ---------- */
body.aero-newui .alert {
  display: flex;
  gap: 0.75rem;
  align-items: flex-start;
  padding: 0.85rem 1rem;
  border-radius: var(--ui-radius-sm);
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid var(--ui-border);
}
body.aero-newui .alert > .title {
  font-weight: 650;
}

/* ---------- Footer ---------- */
body.aero-newui footer {
  border-top: 1px solid var(--ui-divider);
  padding: var(--ui-spacing-5) 0;
  color: var(--ui-subtle);
}

/* ---------- Helpers & Utilities ---------- */
body.aero-newui .stack-sm > * + * {
  margin-top: 0.5rem;
}
body.aero-newui .stack > * + * {
  margin-top: 1rem;
}
body.aero-newui .stack-lg > * + * {
  margin-top: 1.5rem;
}

body.aero-newui .row {
  display: flex;
  gap: var(--ui-spacing-3);
  align-items: center;
}
body.aero-newui .row-wrap {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem 0.75rem;
}

body.aero-newui .center {
  display: grid;
  place-items: center;
}
body.aero-newui .text-right {
  text-align: right;
}
body.aero-newui .text-center {
  text-align: center;
}
body.aero-newui .hidden-sm {
  display: initial;
}
@media (max-width: 680px) {
  body.aero-newui .hidden-sm {
    display: none !important;
  }
}

/* Positive/Negative (prezzi/variazioni) */
body.aero-newui .up {
  color: var(--ui-success);
}
body.aero-newui .down {
  color: var(--ui-danger);
}

/* ---------- Focus visibile & A11y ---------- */
body.aero-newui :focus-visible {
  outline: 3px solid rgba(126, 224, 255, 0.45);
  outline-offset: 2px;
  border-radius: 6px;
}

/* ---------- Motion reduce ---------- */
@media (prefers-reduced-motion: reduce) {
  body.aero-newui * {
    transition: none !important;
    animation: none !important;
  }
}
